/*! @uiw/watermark.js v0.0.3 | MIT Â© 2022 kenny wang <wowohoo@qq.com> https://uiwjs.github.io/react-watermark */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Watermark=e()}(this,(function(){"use strict";return class{constructor(t){this.option={gapX:212,gapY:222,width:120,height:64,rotate:-22,fontStyle:"normal",fontWeight:"normal",fontColor:"rgba(0,0,0,.15)",fontSize:16,fontFamily:"sans-serif"},this.option=Object.assign(Object.assign({},this.option),t)}async create(){const{image:t="",content:e="",gapX:o=212,gapY:i=222,width:r=120,height:n=64,rotate:a=-22,fontStyle:s="normal",fontWeight:l="normal",fontColor:f="rgba(0,0,0,.15)",fontSize:c=16,fontFamily:g="sans-serif",offsetLeft:m,offsetTop:u}=this.option,h=document.createElement("canvas"),p=h.getContext("2d"),d=(t=>{if(!t)return 1;const e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e})(p),x=(o+r)*d+"px",b=(i+n)*d+"px",y=m||o/2,P=u||i/2;if(h.setAttribute("width",x),h.setAttribute("height",b),!p)return Promise.reject("Error: Canvas is not supported in the current environment");{p.translate(y*d,P*d),p.rotate(Math.PI/180*Number(a));const o=r*d,i=n*d;if(t){const e=new Image;e.crossOrigin="anonymous",e.referrerPolicy="no-referrer",e.src=t,e.onload=()=>(p.drawImage(e,0,0,o,i),Promise.resolve(h.toDataURL())),e.onerror=t=>Promise.reject(t)}else if(e){const t=Number(c)*d;return p.font=`${s} normal ${l} ${t}px/${i}px ${g}`,p.fillStyle=f,Array.isArray(e)?null==e||e.forEach(((t,e)=>p.fillText(t,0,50*e))):p.fillText(e,0,0),Promise.resolve(h.toDataURL())}}}}}));
//# sourceMappingURL=watermark.min.js.map
